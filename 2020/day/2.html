<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8" />
    <title>Day 2 - TimTim gift 2020</title>
    <!--[if lt IE 9]><script src="/static/html5.js"></script><![endif]-->
    <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:300&amp;subset=latin,latin-ext' rel='stylesheet'
        type='text/css' />
    <link rel="stylesheet" type="text/css" href="../../static/style8e29.css?25" />
    <link rel="stylesheet alternate" type="text/css" href="../../static/highcontrastcfcd.css?0" title="High Contrast" />
    <link rel="shortcut icon" href="../../favicon.png" />
</head>

<body>
    <header>
        <div>
            <h1 class="title-global">
                <a href="../../">TimTim Gift 2020</a></h1>
            <nav>
                <ul>
                    <li>
                        <a href="../about.html">[About]</a></li>
                    <li>

    </header>

    <main>
        <script>
            window.addEventListener('click', function (e, s, r) {
                if (e.target.nodeName === 'CODE' && e.detail === 3) {
                    s = window.getSelection();
                    s.removeAllRanges();
                    r = document.createRange();
                    r.selectNodeContents(e.target);
                    s.addRange(r);
                }
            });
        </script>
        <article class="day-desc">
            <h2>--- Day 2: Small trip to Madrid ---</h2>
            <p>Now that you are in Valencia you take the chance to go Madrid to visit chinese embassy and sort out some
                paperwork needed for your visa with Jaime. You are going on a daytrip to Madrid so it will be a quick go
                and come back in train.</p>
            <p>Jaime accompanies you to the train station to make sure the check in goes clear and security checks go
                smooth. He can't go past the security check but you already have taken a train in Spain so this is not
                new to you.</p>
            <p>After passing the control you check your seat location in the boarding pass and realize is encoded in a
                weird way, is just a bunch of letters with no numbers! More specifically: <code>FBFFBFBRLR</code>.</p>
            <p>Turns out this ticket uses <em>binary space partitioning</em> to seat people. A seat might be specified
                like FBFBBFFRLR, where F means "front", B means "back", L means "left", and R means "right". You have to
                decode your row and column number with the id, let me show you how:</p>
            <p>For example, consider just the first seven characters of <code>FBFBBFFRLR</code>:</p>
            <ul>
                <li>Start by considering the whole range, rows <code>0</code> through <code>127</code>.</li>
                <li><code>F</code> means to take the <em>lower half</em>, keeping rows <code>0</code> through
                    <code>63</code>.</li>
                <li><code>B</code> means to take the <em>upper half</em>, keeping rows <code>32</code> through
                    <code>63</code>.</li>
                <li><code>F</code> means to take the <em>lower half</em>, keeping rows <code>32</code> through
                    <code>47</code>.</li>
                <li><code>B</code> means to take the <em>upper half</em>, keeping rows <code>40</code> through
                    <code>47</code>.</li>
                <li><code>B</code> keeps rows <code>44</code> through <code>47</code>.</li>
                <li><code>F</code> keeps rows <code>44</code> through <code>45</code>.</li>
                <li>The final <code>F</code> keeps the lower of the two, <em>row <code>44</code></em>.</li>
                <p>The last three characters will be either <code>L</code> or <code>R</code>; these specify exactly one
                    of the <em>8 columns</em> of seats on the plane (numbered <code>0</code> through <code>7</code>).
                    The same process as above proceeds again, this time with only three steps. <code>L</code> means to
                    keep the <em>lower half</em>, while <code>R</code> means to keep the <em>upper half</em>.</p>
                <p>For example, consider just the last 3 characters of <code>FBFBBFFRLR</code>:</p>
                <ul>
                    <li>Start by considering the whole range, columns <code>0</code> through <code>7</code>.</li>
                    <li><code>R</code> means to take the <em>upper half</em>, keeping columns <code>4</code> through
                        <code>7</code>.</li>
                    <li><code>L</code> means to take the <em>lower half</em>, keeping columns <code>4</code> through
                        <code>5</code>.</li>
                    <li>The final <code>R</code> keeps the upper of the two, <em>column <code>5</code></em>.</li>
                </ul>
                <p>So, decoding <code>FBFBBFFRLR</code> reveals that it is the seat at <em>row <code>44</code>, column
                        <code>5</code></em>.</p>
                <p>Every seat also has a unique <em>seat ID</em>: multiply the row by 8, then add the column. In this
                    example, the seat has ID <code>44 * 8 + 5 = <em>357</em></code>.</p>

                <p>Given your ticket position <code>FBFFBFBRLR</code> which is your seat id?</p>

        </article>
        <input type="hidden" name="level" value="1" />
        <p>Answer: <input id="answer" type="text" name="answer" autocomplete="off" /> <input id="submitbutton"
                type="submit" value="[Submit]" />
            <script>
                var counter = httpGet("https://api.countapi.xyz/get/timtim.gift/caca").value

                function httpGet(theUrl) {
                    var xmlHttp = new XMLHttpRequest();
                    xmlHttp.open("GET", theUrl, false); // false for synchronous request
                    xmlHttp.send(null);
                    return JSON.parse(xmlHttp.responseText);
                }

                function check() {
                    ans = document.getElementById('answer').value
                    console.log(ans == 1)
                    if (counter == 2 && ans == 301) {
                        httpGet("https://api.countapi.xyz/update/timtim.gift/caca?amount=+1")
                        alert("Correct!") // Necesita cambio tete
                    }
                }
                elem = document.getElementById('submitbutton');
                elem.addEventListener("click", check);
            </script>

    </main>

</body>

</html>